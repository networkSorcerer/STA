<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.animal.dao.animalDAO">
	<resultMap type="animal" id="animalMap">
		<id column="animal_id" property="animalID"/>
		<result column="animal_species" property="animalSpecies"/>
		<result column="animal_age" property="animalAge"/>
		<result column="animal_gender" property="animalGender"/>
		<result column="animal_status" property="animalStatus"/>
		<result column="animal_kg" property="animalKg"/>
		<result column="animal_color" property="animalColor"/>
		<result column="animal_memo" property="animalMemo"/>
		<result column="animal_temp" property="animalTemp"/>
		<result column="animal_regist" property="animalRegist"/>
		<result column="animal_name" property="animalName"/>
	</resultMap>
	
	<select id="animalList" parameterType="animal" resultMap="animalMap">
		SELECT animal_id, animal_species, animal_name, animal_gender,animal_status,animal_kg,animal_color,animal_temp,animal_memo,TO_CHAR(animal_regist, 'YYYY-MM-DD') AS a_date
		FROM animal
		<where>
			<include refid="animalSearch"></include>
		</where>
		ORDER BY animal_id DESC
	</select>
	
	<select id="animalDetail" parameterType="animal" resultMap="animalMap">
		SELECT
			animal_id, animal_species, animal_name, animal_gender,animal_status,animal_kg,animal_color,animal_temp,animal_memo,
			TO_CHAR(animal_regist, 'YYYY-MM-DD HH24:MI:SS') AS animal_regist, readcnt
		FROM animal
		WHERE animal_id = #{animalId}
	</select>
	
	
</mapper>